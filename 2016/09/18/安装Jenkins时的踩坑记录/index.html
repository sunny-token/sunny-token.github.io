<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title> 安装Jenkins时的踩坑记录 | Blog之HelloWord!</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="前些日子，按照公司要求搭建Jenkins环境配置，在这里我总结了一下我遇到的很多问题。我是用Xcode+GitHub+蒲公英搭建起来的。我是跟着以下的教程进行安装的：Jenkins、Git、CocoaPods、Fir.im 实现 iOS 应用持续集成Jenkins+GitHub+Xcode+fir搭了一个持续集成环境">
<meta property="og:type" content="article">
<meta property="og:title" content=" 安装Jenkins时的踩坑记录">
<meta property="og:url" content="http://yoursite.com/2016/09/18/安装Jenkins时的踩坑记录/index.html">
<meta property="og:site_name" content="Blog之HelloWord!">
<meta property="og:description" content="前些日子，按照公司要求搭建Jenkins环境配置，在这里我总结了一下我遇到的很多问题。我是用Xcode+GitHub+蒲公英搭建起来的。我是跟着以下的教程进行安装的：Jenkins、Git、CocoaPods、Fir.im 实现 iOS 应用持续集成Jenkins+GitHub+Xcode+fir搭了一个持续集成环境">
<meta property="og:image" content="http://odosls3n7.bkt.clouddn.com/jenkins_1.png">
<meta property="og:updated_time" content="2016-09-19T05:21:39.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content=" 安装Jenkins时的踩坑记录">
<meta name="twitter:description" content="前些日子，按照公司要求搭建Jenkins环境配置，在这里我总结了一下我遇到的很多问题。我是用Xcode+GitHub+蒲公英搭建起来的。我是跟着以下的教程进行安装的：Jenkins、Git、CocoaPods、Fir.im 实现 iOS 应用持续集成Jenkins+GitHub+Xcode+fir搭了一个持续集成环境">
<meta name="twitter:image" content="http://odosls3n7.bkt.clouddn.com/jenkins_1.png">
  
    <link rel="alternate" href="/atom.xml" title="Blog之HelloWord!" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Blog之HelloWord!</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-安装Jenkins时的踩坑记录" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/09/18/安装Jenkins时的踩坑记录/" class="article-date">
  <time datetime="2016-09-18T03:32:46.000Z" itemprop="datePublished">2016-09-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ios/">ios</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
       安装Jenkins时的踩坑记录
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>前些日子，按照公司要求搭建<code>Jenkins</code>环境配置，在这里我总结了一下我遇到的很多问题。<br>我是用<code>Xcode+GitHub+蒲公英</code>搭建起来的。<br>我是跟着以下的教程进行安装的：<br><a href="http://blog.csdn.net/cunfu/article/details/47173839" target="_blank" rel="external">Jenkins、Git、CocoaPods、Fir.im 实现 iOS 应用持续集成</a><br><a href="http://www.jianshu.com/p/a17167274463" target="_blank" rel="external">Jenkins+GitHub+Xcode+fir搭了一个持续集成环境</a><br><a id="more"></a></p>
<h1 id="序言"><a href="#序言" class="headerlink" title="序言"></a>序言</h1><p>PS：安装 jenkins 安装包的时候，第二步很重要<br><img src="http://odosls3n7.bkt.clouddn.com/jenkins_1.png" alt="jenkins_1"><br>选中这个会在<code>/Users/Shared/</code>下面新建一个账户<code>Jenkins</code>,然后你所有的打包需要的插件等都得重新安装下，例如：cocoapods 等。<br>不选的话就会在当前目录下创建一个 <code>.jenkins</code> 文件夹。<br>所以推荐不选。</p>
<h1 id="下面就是我所遇到的一些问题。"><a href="#下面就是我所遇到的一些问题。" class="headerlink" title="下面就是我所遇到的一些问题。"></a>下面就是我所遇到的一些问题。</h1><h3 id="总是提示需要权限，需要手动输入密码。"><a href="#总是提示需要权限，需要手动输入密码。" class="headerlink" title="总是提示需要权限，需要手动输入密码。"></a>总是提示需要权限，需要手动输入密码。</h3><p>解决方案：需要在<code>Code signing &amp; OS X keychain options</code> 里面的 <code>login.keychain</code> 路径设置一下。</p>
<h3 id="Failed-to-mkdirs之类的错误。"><a href="#Failed-to-mkdirs之类的错误。" class="headerlink" title="Failed to mkdirs之类的错误。"></a>Failed to mkdirs之类的错误。</h3><p>解决方案：cd 到权限不够的目录下，输入命令 <code>chmod -R 777./</code></p>
<h3 id="error-You-cannot-specify-targets-with-a-workspace"><a href="#error-You-cannot-specify-targets-with-a-workspace" class="headerlink" title="error: You cannot specify targets with a workspace."></a>error: You cannot specify targets with a workspace.</h3><p>解决方案：<br>Xcode Workspace File：设置workspace的文件名；      —————开始是设置这个的  所以报错<br>Xcode Project Directory：设置工程文件对应的路径，工程文件不一定在系统根目录下；      ————–这个才是设置路径的<br>设置 scheme，可以在错误信息里面的最后部分找到.</p>
<h3 id="pod-命令不识别"><a href="#pod-命令不识别" class="headerlink" title="pod 命令不识别."></a>pod 命令不识别.</h3><p>解决方案：在已经安装好 cocoapods 的情况下，脚本增加#!/bin/bash -l</p>
<h3 id="为-mac-的普通用户提升权限，可以使用-sudo。"><a href="#为-mac-的普通用户提升权限，可以使用-sudo。" class="headerlink" title="为 mac 的普通用户提升权限，可以使用 sudo。"></a>为 mac 的普通用户提升权限，可以使用 sudo。</h3><p>解决方案：<br>先到 root 用户下，chmod u+w /etc/sudoers，vi /etc/sudoers<br>ps:这里说下你可以sudoers添加下面四行中任意一条<br>youuser            ALL=(ALL)                ALL<br>%youuser           ALL=(ALL)                ALL<br>youuser            ALL=(ALL)                NOPASSWD: ALL<br>%youuser           ALL=(ALL)                NOPASSWD: ALL<br>第一行:允许用户youuser执行sudo命令(需要输入密码).<br>第二行:允许用户组youuser里面的用户执行sudo命令(需要输入密码).<br>第三行:允许用户youuser执行sudo命令,并且在执行的时候不输入密码.<br>第四行:允许用户组youuser里面的用户执行sudo命令,并且在执行的时候不输入密码.<br>撤销的话：chmod u-w /etc/sudoers</p>
<h3 id="pod-install卡住不动"><a href="#pod-install卡住不动" class="headerlink" title="pod install卡住不动"></a>pod install卡住不动</h3><p>解决方案：</p>
<blockquote>
<p>$ gem sources -r <a href="https://rubygems.org/（移除旧版本的镜像，如果你不知道你电脑上目前用的是什么镜像，可用" target="_blank" rel="external">https://rubygems.org/（移除旧版本的镜像，如果你不知道你电脑上目前用的是什么镜像，可用</a>  $ gem sources -l  来查看）<br>$ gemsources -a <a href="https://gems.ruby-china.org/" target="_blank" rel="external">https://gems.ruby-china.org/</a> （增加可用的镜像）<br>$ gem sources -l （用来检查使用替换镜像位置成功）</p>
<p>[!] An error occurred while performing <code>Git pull</code> on repo <code>master</code>.<br>[!] /usr/bin/git pull –ff-only<br>这个错误应该是说这个节点有问题。就又找资料，然后试试把cocoapods的节点删除，重新添加一个节点，或许就行，说干就干： 原因：<br>Cocoapods的分支不支持当前最新的Xcode版本 解决办法: 删除master分支 重新建立新的分支   sudo rm -fr<br>~/.cocoapods/repos/master</p>
</blockquote>
<h3 id="卸载当前版本"><a href="#卸载当前版本" class="headerlink" title="卸载当前版本."></a>卸载当前版本.</h3><p>解决方案：<br>sudo gem uninstall cocoapods<br>下载旧版本<br>sudo gem install cocoapods -v 0.25.0<br>升级 cocoapods，没有权限不能安装：sudo gem install -n /usr/local/bin cocoapods</p>
<h3 id="Unable-to-load-a-specification-for-the-plugin-Library-Ruby-Gems-2-0-0-gems-cocoapods-deintegrate-1-0-0"><a href="#Unable-to-load-a-specification-for-the-plugin-Library-Ruby-Gems-2-0-0-gems-cocoapods-deintegrate-1-0-0" class="headerlink" title="Unable to load a specification for the plugin /Library/Ruby/Gems/2.0.0/gems/cocoapods-deintegrate-1.0.0"></a>Unable to load a specification for the plugin <code>/Library/Ruby/Gems/2.0.0/gems/cocoapods-deintegrate-1.0.0</code></h3><p>解决方案：<br>gem uninstall cocoapods-deintegrate（不能带 version 号）</p>
<h3 id="Your-Podfile-has-had-smart-quotes-sanitised-To-avoid-issues-in-the-future-you-should-not-use-TextEdit-for-editing-it"><a href="#Your-Podfile-has-had-smart-quotes-sanitised-To-avoid-issues-in-the-future-you-should-not-use-TextEdit-for-editing-it" class="headerlink" title="Your Podfile has had smart quotes sanitised. To avoid issues in the future, you should not use TextEdit for editing it."></a>Your Podfile has had smart quotes sanitised. To avoid issues in the future, you should not use TextEdit for editing it.</h3><p>解决方案：<br>TextEditor 编辑保存为 none-lossy ASCII</p>
<h3 id="ArgumentError-invalid-byte-sequence-in-US-ASCII。"><a href="#ArgumentError-invalid-byte-sequence-in-US-ASCII。" class="headerlink" title="ArgumentError - invalid byte sequence in US-ASCII。"></a>ArgumentError - invalid byte sequence in US-ASCII。</h3><p>解决方案：<br>touch .bash_profile<br>vi .bash_profile<br>粘贴：<br>export LANG=en_US.UTF-8<br>export LANGUAGE=en_US.UTF-8<br>export LC_ALL=en_US.UTF-8<br>source .bash_profile</p>
<h3 id="卸载-jenkins"><a href="#卸载-jenkins" class="headerlink" title="卸载 jenkins"></a>卸载 jenkins</h3><p>解决方案：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">sudo launchctl unload /Library/LaunchDaemons/org.jenkins-ci.plist</div><div class="line">sudo rm !$</div><div class="line">sudo rm -rf /Applications/Jenkins &quot;/Library/Application Support/Jenkins&quot; /Library/Documentation/Jenkins</div><div class="line">sudo rm -rf /Users/Shared/Jenkins</div><div class="line"># if you want to get rid of all the jobs and builds:</div><div class="line">sudo dscl . -delete /Users/jenkins</div><div class="line"># delete the jenkins user and group (if you chose to use them):</div><div class="line">sudo dscl . -delete /Groups/jenkins</div></pre></td></tr></table></figure></p>
<h3 id="启动不了-jenkins。"><a href="#启动不了-jenkins。" class="headerlink" title="启动不了 jenkins。"></a>启动不了 jenkins。</h3><p>解决方案：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd /Applications/Jenkins</div><div class="line">java -jar jenkins.war</div></pre></td></tr></table></figure></p>
<h3 id="忘记密码"><a href="#忘记密码" class="headerlink" title="忘记密码."></a>忘记密码.</h3><p>解决方案：<br><a href="http://blog.csdn.net/wangmuming/article/details/22925931" target="_blank" rel="external">http://blog.csdn.net/wangmuming/article/details/22925931</a></p>
<h3 id="jenkins-打包完毕后，总是提示输入电脑帐号密码"><a href="#jenkins-打包完毕后，总是提示输入电脑帐号密码" class="headerlink" title="jenkins 打包完毕后，总是提示输入电脑帐号密码"></a>jenkins 打包完毕后，总是提示输入电脑帐号密码</h3><p>解决方案：<br>打开 keychain，点击左上方的<code>系统</code>，拷贝你的证书，然后点击左上方的<code>登录</code>,最后粘贴。<br>下次再打包就不用输入帐号密码了。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/09/18/安装Jenkins时的踩坑记录/" data-id="civj78k38001k2g1ym4ogimzr" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/10/14/近日随笔/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          近日随笔
        
      </div>
    </a>
  
  
    <a href="/2016/09/13/导致强引用的几种情况/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title"> 导致强引用的几种情况</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ios/">ios</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/生活/">生活</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/随笔/">随笔</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">June 2014</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/11/02/Lumberjack-DDLog第三方日志打印工具/">Lumberjack&amp;DDLog第三方日志打印工具</a>
          </li>
        
          <li>
            <a href="/2016/10/24/JSPatch的使用/">JSPatch的使用</a>
          </li>
        
          <li>
            <a href="/2016/10/19/Xcode8的assets问题导致运行iOS8崩溃的解决方案/">Xcode8的assets问题导致运行iOS8崩溃的解决方案</a>
          </li>
        
          <li>
            <a href="/2016/10/14/近日随笔/">近日随笔</a>
          </li>
        
          <li>
            <a href="/2016/09/18/安装Jenkins时的踩坑记录/"> 安装Jenkins时的踩坑记录</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 楠の爸<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>